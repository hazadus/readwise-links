<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>Архив страниц из Readwise Reader</title>
  </head>

  <body class="bg-gray-50 min-h-screen p-4 md:p-8">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">Архив страниц из Readwise Reader</h2>

      <div class="space-y-4">
        {% for article in articles %}
        <div class="rounded-md border border-gray-200 bg-white shadow-sm overflow-hidden">
          <!-- Хэдер с заголовком -->
          <div class="border-b border-gray-200 bg-gray-50 px-4 py-3">
            <a
              href="{{ article.id }}/index.html"
              class="text-lg font-semibold text-blue-600 hover:text-blue-800 hover:underline break-words"
              target="_blank"
              >{{ article.title }}</a
            >
          </div>

          <!-- Контент -->
          <div class="px-4 py-3">
            <!-- Summary -->
            {% if article.summary %}
            <div class="mb-3 rounded-md bg-gray-50 border border-gray-200 px-3 py-2 text-sm text-gray-700">
              {{ article.summary }}
            </div>
            {% endif %}
          </div>

          <!-- Футер с датами и количеством слов -->
          {% if article.saved_at or article.published_date %}
          <div class="border-t border-gray-200 bg-gray-50 px-4 py-2">
            <div class="flex flex-wrap gap-x-4 gap-y-1 text-xs text-gray-600">
              {% if article.saved_at %}
              <div class="flex items-center">
                <svg
                  class="h-3.5 w-3.5 mr-1"
                  viewBox="0 0 16 16"
                  fill="currentColor"
                >
                  <path
                    d="M4.75 0a.75.75 0 0 1 .75.75V2h5V.75a.75.75 0 0 1 1.5 0V2h1.25c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V3.75C1 2.784 1.784 2 2.75 2H4V.75A.75.75 0 0 1 4.75 0ZM2.5 7.5v6.75c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V7.5Zm10.75-4H2.75a.25.25 0 0 0-.25.25V6h11V3.75a.25.25 0 0 0-.25-.25Z"
                  ></path>
                </svg>
                <span>Сохранено: {{ article.saved_at.strftime("%Y-%m-%d") }}</span>
              </div>
              {% endif %} {% if article.published_date %}
              <div class="flex items-center">
                <svg
                  class="h-3.5 w-3.5 mr-1"
                  viewBox="0 0 16 16"
                  fill="currentColor"
                >
                  <path
                    d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"
                  ></path>
                </svg>
                <span>Опубликовано: {{ article.published_date }}</span>
              </div>
              {% endif %} {% if article.word_count %}
              <div class="flex items-center">
                <svg
                  class="h-3.5 w-3.5 mr-1"
                  viewBox="0 0 16 16"
                  fill="currentColor"
                >
                  <path
                    d="M0 1.75A1.75 1.75 0 0 1 1.75 0h12.5A1.75 1.75 0 0 1 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM1.75 1.5a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25ZM3 5.75A.75.75 0 0 1 3.75 5h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 3 5.75Zm0 4a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 3 9.75ZM3.75 3h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Z"
                  ></path>
                </svg>
                <span>{{ article.word_count }} слов</span>
              </div>
              {% endif %}
            </div>
          </div>
          {% endif %}
        </div>
        {% endfor %}
      </div>
    </div>
  </body>
</html>
